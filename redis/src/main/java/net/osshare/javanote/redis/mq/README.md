1、Redis不会对发布的消息进行持久化

2、Redis支持RDB和AOF两种持久化机制，持久化功能有效地避免因进程退出造成的数据丢失问题，当下次重启时利用之前持久化的文件即可实现数据恢复。
  RDB持久化
  RDB持久化是把当前进程数据生成快照保存到硬盘的过程，触发RDB持久化过程分为手动触发和自动触发。
  RDB的优缺点
  优点：
  
  RDB是一个紧凑压缩的二进制文件，代表Redis在某个时间点上的数据快照。非常适用于备份，全量复制等场景。比如每6小时执行bgsave备份，并把RDB文件拷贝到远程机器或者文件系统中（如hdfs），用于灾难恢复。
  Redis加载RDB恢复数据远远快于AOF的方式。
  
  缺点：
  
  RDB方式数据没办法做到实时持久化/秒级持久化。因为bgsave每次运行都要执行fork操作创建子进程，属于重量级操作，频繁执行成本过高。
  RDB文件使用特定二进制格式保存，Redis版本演进过程中有多个格式的RDB版本，存在老版本Redis服务无法兼容新版RDB格式的问题。
  
  针对RDB不适合实时持久化的问题，Redis提供了AOF持久化方式来解决。
  AOF持久化
  AOF（append only file）持久化：以独立日志的方式记录每次写命令，重启时再重新执行AOF文件中的命令达到恢复数据的目的。
  AOF的主要作用是解决了数据持久化的实时性，目前已经是Redis持久化的主流方式。
  开启AOF，通过修改redis.conf配置文件
  appendonly yes ##默认不开启。
  复制代码AOF文件名通过appendfilename配置设置，默认文件名appendonly.aof。保存路径同RDB持久化方式一致，通过dir配置指定。
  